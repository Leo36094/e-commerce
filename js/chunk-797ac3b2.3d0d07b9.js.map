{"version":3,"sources":["webpack:///./src/components/Pagination.vue?4072","webpack:///src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?0b9b","webpack:///./src/components/Pagination.vue","webpack:///./src/components/Card.vue?540b","webpack:///./src/views/dashboard/CustomerOrder.vue?0967","webpack:///./src/components/Card.vue?783e","webpack:///src/components/Card.vue","webpack:///./src/components/Card.vue?ab3c","webpack:///./src/components/Card.vue","webpack:///src/views/dashboard/CustomerOrder.vue","webpack:///./src/views/dashboard/CustomerOrder.vue?4031","webpack:///./src/views/dashboard/CustomerOrder.vue","webpack:///./src/views/dashboard/CustomerOrder.vue?1655"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","fullValue","total_pages","on","changePage","model","value","callback","$$v","expression","staticRenderFns","components","props","type","Object","default","Function","data","computed","get","set","$emit","newValue","watch","created","mounted","destroyed","methods","handleCurrentChange","val","component","isLoading","$event","isNonEmptyArray","products","openCart","cartQty","_v","_s","handleCartQty","pagination","_e","_l","item","key","id","padding","style","backgroundImage","title","category","description","parseInt","price","nativeOn","openModal","addToCart","num","Button","Array","showModal","product","cartLength","$http","res","success","alert","post","cartApi","notifySuccess","$message","showClose","message","text","productApi","String","getCartData","getProducts","$root","$on","$off","pageNumber","setModal"],"mappings":"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","file":"js/chunk-797ac3b2.3d0d07b9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block\"},[_c('el-pagination',{attrs:{\"page-size\":10,\"layout\":\"total, prev, pager, next\",\"page-count\":_vm.fullValue.total_pages},on:{\"current-change\":_vm.changePage},model:{value:(_vm.fullValue),callback:function ($$v) {_vm.fullValue=$$v},expression:\"fullValue\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<style lang=\"stylus\">\n</style>\n<template>\n  <div class=\"block\">\n    <el-pagination\n      v-model=\"fullValue\"\n      @current-change=\"changePage\"\n      :page-size=\"10\"\n      layout=\"total, prev, pager, next\"\n      :page-count=\"fullValue.total_pages\"\n    ></el-pagination>\n  </div>\n</template>\n<script>\nimport { mapGetters, mapActions } from \"vuex\";\nexport default {\n  components: {},\n  props: {\n    value: {\n      type: Object,\n      default: () => {\n        return {};\n      }\n    },\n    changePage: {\n      type: Function,\n      default: () => {\n        return \"\";\n      }\n    }\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    fullValue: {\n      get() {\n        return this.value;\n      },\n      set(newValue) {\n        this.$emit(\"input\", newValue);\n      }\n    }\n  },\n  watch: {},\n  created() {},\n  mounted() {},\n  destroyed() {},\n  methods: {\n    handleCurrentChange(val) {\n      this.$emit(\"pagination:onChangePage\", val);\n    }\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=421b167e&\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js&\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=style&index=0&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"customer-order\"},[_c('Loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),(_vm.isNonEmptyArray(_vm.products))?[_c('div',{staticClass:\"customer-order-cart\",on:{\"click\":_vm.openCart}},[_c('i',{staticClass:\"fas fa-lg fa-cart-plus\"}),_c('div',{staticClass:\"customer-order-cart__num\",attrs:{\"value\":_vm.cartQty}},[_vm._v(_vm._s(_vm.handleCartQty))])]),_c('div',{staticClass:\"customer-order-content\"},[_c('div',{staticClass:\"customer-order-content__card\"},[_c('Card',{model:{value:(_vm.products),callback:function ($$v) {_vm.products=$$v},expression:\"products\"}})],1)]),_c('Pagination',{staticClass:\"customer-order__pagination\",attrs:{\"changePage\":_vm.changePage},model:{value:(_vm.pagination),callback:function ($$v) {_vm.pagination=$$v},expression:\"pagination\"}})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-container\"},[_c('Loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_vm._l((_vm.fullValue),function(item){return _c('el-card',{key:item.id,staticClass:\"card\",attrs:{\"shadow\":\"hover\",\"body-style\":{ padding: '0px' }}},[_c('div',{staticClass:\"card__background\",style:({backgroundImage:(\"url(\" + (item.imageUrl) + \")\")})}),_c('div',{staticClass:\"card-info\"},[_c('div',{staticClass:\"form__row card-info__item\"},[_c('span',[_vm._v(_vm._s(item.title))]),_c('el-tag',{attrs:{\"size\":\"medium\",\"type\":\"info\"}},[_vm._v(_vm._s(item.category))])],1),_c('div',{staticClass:\"form__row card-info__item\"},[_c('p',[_vm._v(_vm._s(item.description))])]),_c('div',{staticClass:\"form__row card-info__item\"},[_c('h4',{staticClass:\"card-info__item__original-price\"},[_vm._v(\"原價：$\"+_vm._s(parseInt(item.price) * 1.8))]),_c('span',[_vm._v(\"售價： $\"+_vm._s(item.price))])]),_c('div',{staticClass:\"form__row\"},[_c('Button',{staticClass:\"card-info__btn\",attrs:{\"btnName\":\"了解更多\"},nativeOn:{\"click\":function($event){return _vm.openModal(item.id)}}}),_c('Button',{staticClass:\"card-info__btn\",attrs:{\"colorType\":\"special\",\"btnName\":\"加入購物車\"},nativeOn:{\"click\":function($event){return _vm.addToCart(item.id, item.num)}}})],1)])])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<style lang=\"stylus\">\n@import '../assets/style/_base.styl'\n\n.card-container\n  width 100%\n  height 100%\n  display flex\n  flex-wrap wrap\n  justify-content space-evenly\n\n  .el-card, .card\n    width 280px\n    margin 5px\n    border-radius 8px\n\n    &__background\n      width 280px\n      height 200px\n      background no-repeat\n      background-size cover\n      background-position 50% 50%\n\n    &-info\n      margin 10px 0\n      padding 0 10px\n\n      &__item\n        width 100%\n        height 100%\n        max-height 30px\n        border-bottom 1px solid #e7edf2\n        padding 5px 0\n        margin-bottom 10px\n\n        p\n          text-overflow ellipsis\n          overflow hidden\n          white-space nowrap\n\n        &__original-price\n          color grey\n          font-size 16px\n          text-decoration line-through\n\n      &__btn\n        margin 0\n        border-radius 20px\n\n  @media only screen and (max-width: 600px)\n    .el-card, .card\n      width 320px\n\n      &__background\n        width 320px\n</style>\n<template>\n  <div class=\"card-container\">\n    <Loading :active.sync=\"isLoading\"></Loading>\n    <el-card\n      class=\"card\"\n      v-for=\"item in fullValue\"\n      :key=\"item.id\"\n      shadow=\"hover\"\n      :body-style=\"{ padding: '0px' }\"\n    >\n      <div class=\"card__background\" :style=\"{backgroundImage:`url(${item.imageUrl})`}\"></div>\n      <div class=\"card-info\">\n        <div class=\"form__row card-info__item\">\n          <span>{{item.title}}</span>\n          <el-tag size=\"medium\" type=\"info\">{{item.category}}</el-tag>\n        </div>\n        <div class=\"form__row card-info__item\">\n          <p>{{item.description}}</p>\n        </div>\n        <div class=\"form__row card-info__item\">\n          <h4 class=\"card-info__item__original-price\">原價：${{parseInt(item.price) * 1.8}}</h4>\n          <span>售價： ${{item.price}}</span>\n        </div>\n        <div class=\"form__row\">\n          <Button class=\"card-info__btn\" btnName=\"了解更多\" @click.native=\"openModal(item.id)\"/>\n          <Button\n            class=\"card-info__btn\"\n            colorType=\"special\"\n            @click.native=\"addToCart(item.id, item.num)\"\n            btnName=\"加入購物車\"\n          />\n        </div>\n      </div>\n    </el-card>\n  </div>\n</template>\n<script>\nimport { mapActions } from \"vuex\";\nimport Button from \"@/components/reuse/Button\";\nconst productApi = `${process.env.VUE_APP_API}api/${\n  process.env.VUE_APP_CUSTOM\n}/product/`;\nconst cartApi = `${process.env.VUE_APP_API}api/leochuang/cart`;\nexport default {\n  components: {\n    Button,\n  },\n  props: {\n    value: {\n      type: Array,\n      default: () => {\n        return [];\n      }\n    }\n  },\n  data() {\n    return {\n      showModal: false,\n      product: {},\n      cartLength: \"\",\n      isLoading: false\n    };\n  },\n  computed: {\n    fullValue: {\n      get() {\n        return this.value;\n      },\n      set(newValue) {\n        this.$emit(\"input\", newValue);\n      }\n    }\n  },\n  watch: {},\n  created() {},\n  mounted() {},\n  methods: {\n    ...mapActions([\"setModalData\", \"setModal\"]),\n    openModal(id) {\n      this.showModal = true;\n      this.isLoading = true;\n      this.$http.get(`${productApi}${id}`).then(res => {\n        if (res.data.success) {\n          const {\n            data: { product }\n          } = res;\n          this.product = this.deepCopy(product);\n          this.setModalData(this.product);\n          this.setModal(\"CardModal\");\n          this.isLoading = false;\n        } else {\n          alert(\"請先登入，以利取得資料\");\n          this.$router.push({ name: \"login\" });\n          this.isLoading = false;\n        }\n      });\n    },\n    addToCart(id, qty = 1) {\n      this.isLoading = true;\n      this.$http.post(cartApi, { data: { product_id: id, qty } }).then(() => {\n        this.showModal = false;\n        this.$root.$emit(\"Card:refresh\");\n        this.isLoading = false;\n        this.notifySuccess(\"成功加入購物車\");\n      });\n    },\n    notifySuccess(text) {\n      this.$message({\n        showClose: true,\n        message: text,\n        type: \"success\"\n      });\n    }\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Card.vue?vue&type=template&id=8cf5bdf2&\"\nimport script from \"./Card.vue?vue&type=script&lang=js&\"\nexport * from \"./Card.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Card.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<style lang=\"stylus\">\n@import '../../assets/style/_base.styl'\n\n.customer-order\n  height 100%\n  width 100%\n  position relative\n\n  &-cart\n    position fixed\n    bottom 20px\n    right 2%\n    color $primary-color\n    align-items center\n    cursor pointer\n    width 40px\n    height 40px\n    border-radius 30px\n    background #66cfd2\n    display inline-block\n    animation cart 1s infinite cubic-bezier(0.24, 0.07, 0.74, 0.99)\n\n    .fa-cart-plus\n      width 100%\n      position relative\n\n      &:before\n        position absolute\n        top 0\n        left 15%\n        height 100%\n        color #fff\n\n    &__num\n      width 20px\n      height 20px\n      display flex\n      align-items center\n      justify-content center\n      border-radius 50%\n      background black\n      position absolute\n      background-color rgb(255, 171, 0)\n      color #fff\n      font-size 12px\n      right -3px\n      top -8px\n\n  &-content\n    width 100%\n    margin-top 20px\n    height calc(100% - 50px)\n    overflow auto\n\n    &__card\n      width 100%\n\n  &__pagination\n    width 100%\n    height 50px\n    text-align center\n</style>\n<template>\n  <div class=\"customer-order\">\n    <Loading :active.sync=\"isLoading\"></Loading>\n    <template v-if=\"isNonEmptyArray(products)\">\n      <div class=\"customer-order-cart\" @click=\"openCart\">\n        <i class=\"fas fa-lg fa-cart-plus\"></i>\n        <div :value=\"cartQty\" class=\"customer-order-cart__num\">{{handleCartQty}}</div>\n      </div>\n      <div class=\"customer-order-content\">\n        <div class=\"customer-order-content__card\">\n          <Card v-model=\"products\"/>\n        </div>\n      </div>\n      <Pagination class=\"customer-order__pagination\" v-model=\"pagination\" :changePage=\"changePage\"/>\n    </template>\n  </div>\n</template>\n<script>\nconst cartApi = \"https://vue-course-api.hexschool.io/api/leochuang/cart\";\nimport { mapActions } from \"vuex\";\nimport Card from \"@/components/Card\";\nimport Pagination from \"@/components/Pagination\";\n// const productApi = `${process.env.VUE_APP_API}api/${\n//   process.env.VUE_APP_CUSTOM\n// }/admin/products`;\nexport default {\n  components: { Card, Pagination },\n  props: {\n    productApi: {\n      type: String,\n      default: () => {\n        return `${process.env.VUE_APP_API}api/${\n          process.env.VUE_APP_CUSTOM\n        }/admin/products`;\n      }\n    }\n  },\n  data() {\n    return {\n      products: [],\n      pagination: {},\n      cartQty: \"\",\n      isLoading: false\n    };\n  },\n  computed: {\n    handleCartQty() {\n      return this.cartQty > 9 ? \"9+\" : this.cartQty;\n    }\n  },\n  watch: {\n    cartQty(newValue) {\n      newValue ? this.getCartData() : this.cartQty;\n    }\n  },\n  created() {\n    this.getProducts();\n    this.getCartData();\n    this.$root.$on(\"Card:refresh\", () => {\n      this.getCartData();\n    });\n    this.$root.$on(\"CartModal:refresh\", () => {\n      this.getCartData();\n    });\n    this.$root.$on(\"CardModal:refresh\", () => {\n      this.getCartData();\n    });\n  },\n  mounted() {},\n  destroyed() {\n    this.$root.$off(\"Card:refresh\");\n    this.$root.$off(\"CartModal:refresh\");\n    this.$root.$off(\"CardModal:refresh\");\n  },\n  methods: {\n    ...mapActions([\"setModal\"]),\n    getProducts(page = 1) {\n      // \"https://vue-course-api.hexschool.io/api/leochuang/products\";\n      // API 伺服器路徑\n      // 申請的 API PATH\n      this.isLoading = true;\n      this.$http.get(`${this.productApi}?page=${page}`).then(res => {\n        if (res.data.success) {\n          const {\n            data: { products, pagination }\n          } = res;\n          this.products = this.deepCopy(products);\n          this.pagination = pagination;\n          this.isLoading = false;\n          this.$root.$emit(\"CustomerOrder:Loading\", this.isLoading);\n        } else {\n          alert(\"請先登入，以利取得資料\");\n          this.$router.push({ name: \"login\" });\n          this.isLoading = false;\n        }\n      });\n    },\n    getCartData() {\n      this.$http\n        .get(cartApi)\n        .then(res => (this.cartQty = res.data.data.carts.length));\n    },\n    changePage(pageNumber) {\n      this.getProducts(pageNumber);\n    },\n    showModal() {\n      this.setModal(\"CartModal\");\n    },\n    openCart() {\n      this.showModal();\n    }\n  }\n};\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerOrder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomerOrder.vue?vue&type=template&id=16f4d98c&\"\nimport script from \"./CustomerOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomerOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomerOrder.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerOrder.vue?vue&type=style&index=0&lang=stylus&\""],"sourceRoot":""}